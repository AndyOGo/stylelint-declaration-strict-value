import e from"stylelint";import r from"shortcss";import n from"path";var t={ignoreVariables:!0,ignoreFunctions:!0,ignoreKeywords:null,ignoreValues:null,expandShorthand:!1,recurseLonghand:!1,severity:"error",message:null,disableFix:!1,autoFixFunc:null};function i(e){var r=typeof e;return"string"===r||"number"===r}function o(e){return i(e)||Array.isArray(e)&&e.every(function(e){return i(e)})}function a(e){if("object"!=typeof e)return!1;var r=Object.keys(t);return!(!Object.keys(e).every(function(e){return r.indexOf(e)>-1})||"ignoreVariables"in e&&"boolean"!=typeof e.ignoreVariables&&null!==e.ignoreVariables||"ignoreFunctions"in e&&"boolean"!=typeof e.ignoreFunctions&&null!==e.ignoreFunctions||"severity"in e&&"string"!=typeof e.severity&&null!==e.severity||"ignoreKeywords"in e&&!o(e.ignoreKeywords)&&!u(e.ignoreKeywords)||"ignoreValues"in e&&!o(e.ignoreValues)&&!u(e.ignoreValues)||"expandShorthand"in e&&"boolean"!=typeof e.expandShorthand&&null!==e.expandShorthand||"recurseLonghand"in e&&"boolean"!=typeof e.recurseLonghand&&null!==e.recurseLonghand||"message"in e&&"string"!=typeof e.message&&null!==e.message||"disableFix"in e&&"boolean"!=typeof e.disableFix&&null!==e.disableFix||"autoFixFunc"in e&&"function"!=typeof e.autoFixFunc&&"string"!=typeof e.autoFixFunc&&null!==e.autoFixFunc)}function u(e){return"object"==typeof e&&Object.keys(e).every(function(r){return o(e[r])})}function s(e,r){if(!e)return null;var n=e;return{}.hasOwnProperty.call(n,r)?n=n[r]:{}.hasOwnProperty.call(n,"")&&(n=n[""]),Array.isArray(n)?n:[n]}function l(e,r){if(!e)return null;var n=e;return{}.hasOwnProperty.call(n,r)?n=n[r]:{}.hasOwnProperty.call(n,"")&&(n=n[""]),Array.isArray(n)?n:[n]}var c="scale-unlimited/declaration-strict-value",p=e.utils,f=p.ruleMessages(c,{expected:function(e,r,n,t){if(Array.isArray(e)){var i=e.pop();e=e.length?e.join(", ")+" or "+i:i}return"string"==typeof t&&t.length?t.replace("${types}",e).replace("${value}",r).replace("${property}",n):"Expected "+e+' for "'+r+'" of "'+n+'"'}}),g=/^(?:@|\$|--).+$/,y=/^-?(?:@.+|(?:(?:[a-zA-Z_-]|[^\x00-\x7F])+(?:[a-zA-Z0-9_-]|[^\x00-\x7F])*\.)?\$.+|var\(\s*--[\s\S]+\))$/,d=/^(?!var\(\s*--)[\s\S]+\([\s\S]*\)$/,v=/^\/(.*)\/([a-zA-Z]*)$/,h=function(e){return v.test(e)},x=function(e){return new(Function.prototype.bind.apply(RegExp,[null].concat(function(e){return e.match(v).slice(1)}(e))))},b=function(e){return h(e)?x(e):new RegExp("^"+e+"$")},F=function(e,i,u){return void 0===u&&(u={}),function(v,F){if(p.validateOptions(F,c,{actual:e,possible:o},{actual:i,possible:a,optional:!0})){Array.isArray(e)||(e=[e]);var m=Object.assign({},t,i),w=m.ignoreVariables,A=m.ignoreFunctions,V=m.ignoreKeywords,$=m.ignoreValues,O=m.message,j=m.disableFix,E=m.expandShorthand,S=m.recurseLonghand,k=function(e){var r=typeof e;if("function"===r)return e;if("string"===r){var t;try{t=require.resolve(e)}catch(r){t=require.resolve(n.join(process.cwd(),e))}return require(t)}return null}(m.autoFixFunc),K=V?{}:null,R=$?{}:null,P=[];w&&(v.walkAtRules("value",function(e){var r=e.params.split(":")[0].trim();P.push(r)}),P=new RegExp("^-?(:?"+P.join("|")+")$")),e.forEach(function(e){var n=e;function t(r,n,t){var i=r.prop,o=t||r.value,a=!1,g=!1,h=!1,x=!1;if(w&&(a=y.test(o)||P.test(o)),A&&!a&&(g=d.test(o)),V&&(!a||!g)){var E=K[e];if(!E){var S=s(V,e);S&&(E=new RegExp("^"+S.join("$|^")+"$"),K[e]=E)}E&&(h=E.test(o))}if($&&(!a||!g||!h)){var L=R[e];if(!L){var q=l($,e);q&&(L=q.map(b),R[e]=L)}L&&(x=L.filter(function(e){return e.test(o)}).length>0)}if(!(a||g||h||x)){var z=function(e,r){var n=e.ignoreFunctions,t=e.ignoreKeywords,i=e.ignoreValues,o=[];return e.ignoreVariables&&o.push("variable"),n&&o.push("function"),t&&s(t,r)&&o.push("keyword"),i&&l(i,r)&&o.push("keyword"),o}(m,e);if(u.fix&&!j){var Z=k(r,{validVar:a,validFunc:g,validKeyword:h,validValue:x,longhandProp:n,longhandValue:t},v,m);Z&&(r.value=Z)}else{var _=r.source.start;p.report({ruleName:c,result:F,node:r,line:_.line,column:_.column+i.length+r.raws.between.length,message:f.expected(z,o,i,O)})}return!0}return!1}h(n)&&(n=x(n)),v.walkDecls(function(e){var i=e.value,o=e.prop;if(!g.test(o)){var a=E&&r.isShorthand(o);if(o===n||!a&&n instanceof RegExp&&n.test(o))t(e);else if(a){var u=r.expand(o,i,S),s=!1;Object.keys(u).forEach(function(r){var i=u[r];!s&&(r===n||n instanceof RegExp&&n.test(r))&&(s=t(e,r,i))})}}})})}}};F.primaryOptionArray=!0;export default e.createPlugin(c,F);export{c as ruleName,f as messages};
//# sourceMappingURL=index.esm.js.map
