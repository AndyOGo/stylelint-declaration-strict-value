import e from"stylelint";import r from"shortcss";import n from"shortcss/lib/list";import t from"css-values";import o from"path";function i(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,t)}return n}function a(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?i(Object(n),!0).forEach(function(r){u(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function u(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function s(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}var l="scale-unlimited/declaration-strict-value",c=function(e,r){return"object"==typeof e&&Object.hasOwnProperty.call(e,r)},f={ignoreVariables:!0,ignoreFunctions:!0,ignoreKeywords:null,ignoreValues:null,expandShorthand:!1,recurseLonghand:!1,severity:"error",message:void 0,disableFix:!1,autoFixFunc:null};function p(e){var r=typeof e;return"string"===r||"number"===r}function y(e){return p(e)||Array.isArray(e)&&e.every(function(e){return p(e)})}function g(e){return!("object"!=typeof e||!e)&&Object.keys(e).every(function(r){return y(e[r])})}function v(e){return!("object"!=typeof e||!e)&&Object.keys(e).every(function(r){return"boolean"==typeof e[r]})}function d(e){if("object"!=typeof e)return!1;var r=Object.keys(f);return!(!Object.keys(e).every(function(e){return r.indexOf(e)>-1})||"ignoreVariables"in e&&"boolean"!=typeof e.ignoreVariables&&!v(e.ignoreVariables)&&null!==e.ignoreVariables||"ignoreFunctions"in e&&"boolean"!=typeof e.ignoreFunctions&&!v(e.ignoreFunctions)&&null!==e.ignoreFunctions||"severity"in e&&"string"!=typeof e.severity&&null!==e.severity||"ignoreKeywords"in e&&!y(e.ignoreKeywords)&&!g(e.ignoreKeywords)||"ignoreValues"in e&&!y(e.ignoreValues)&&!g(e.ignoreValues)||"expandShorthand"in e&&"boolean"!=typeof e.expandShorthand&&null!==e.expandShorthand||"recurseLonghand"in e&&"boolean"!=typeof e.recurseLonghand&&null!==e.recurseLonghand||"message"in e&&"string"!=typeof e.message&&null!==e.message||"disableFix"in e&&"boolean"!=typeof e.disableFix&&null!==e.disableFix||"autoFixFunc"in e&&"function"!=typeof e.autoFixFunc&&"string"!=typeof e.autoFixFunc&&null!==e.autoFixFunc)}function b(e,r){return"boolean"==typeof e?e:"object"==typeof e&&e&&{}.hasOwnProperty.call(e,r)?e[r]:!!e}function h(e,r){if(!e)return null;var n=e;return c(n,r)?n=n[r]:c(n,"")&&(n=n[""]),Array.isArray(n)?n:[n]}function m(e,r){if(!e)return null;var n=e;return c(n,r)?n=n[r]:c(n,"")&&(n=n[""]),Array.isArray(n)?n:[n]}var x=e.utils,O=x.ruleMessages(l,{expected:function(e,r,n,t){var o;if(void 0===t&&(t=""),Array.isArray(e)){var i=e.pop();o=e.length?e.join(", ")+" or "+i:i}else o=e;return"string"==typeof t&&t.length?t.replace("${types}",o).replace("${value}",r).replace("${property}",n):"Expected "+o+' for "'+r+'" of "'+n+'"'}}),w=/^(?:@|\$|--).+$/,j=/^-?(?:@.+|(?:(?:[a-zA-Z_-]|[^\x20-\x7F])+(?:[a-zA-Z0-9_-]|[^\x20-\x7F])*\.)?\$.+|var\(\s*--[\s\S]+\))$/,F=/^(?!var\(\s*--)[\s\S]+\([\s\S]*\)$/,A=/^\/(.*)\/([a-zA-Z]*)$/,S=/color/,V=function(e){return A.test(e)},$=function(e){var r,n=function(e){if(Array.isArray(e))return e}(r=function(e){return e.match(A).slice(1)}(e))||function(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(t=n.next()).done)&&(i.push(t.value),2!==i.length);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(r)||function(e,r){if(e){if("string"==typeof e)return s(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,2):void 0}}(r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();return new RegExp(n[0],n[1])},E=function(e){return V(""+e)?$(""+e):new RegExp("^"+e+"$")},P=function(e,i,u){return void 0===u&&(u={}),function(s,c){if(c&&c.stylelint&&c.stylelint.customMessages&&c.stylelint.customMessages[l]&&delete c.stylelint.customMessages[l],x.validateOptions(c,l,{actual:e,possible:y},{actual:i,possible:d,optional:!0})){Array.isArray(e)||(e=[e]);var p,g=a(a({},f),i),v=g.ignoreVariables,A=g.ignoreFunctions,P=g.ignoreKeywords,k=g.ignoreValues,K=g.message,R=g.disableFix,D=g.expandShorthand,L=g.recurseLonghand,M=function(e,r,n){if("function"==typeof e)return e;if("string"==typeof e){var t;try{t=require.resolve(e)}catch(r){t=require.resolve(o.join(process.cwd(),e))}return require(t)}return!r&&n&&console.warn('No `autoFix` function provided, consider using `disableFix` for "'+l+'"'),null}(g.autoFixFunc,R,u.fix),q=P?{}:null,z=k?{}:null;if(v){var I=[];s.walkAtRules("value",function(e){var r=e.params.split(":")[0].trim();I.push(r)}),p=new RegExp("^-?(:?"+I.join("|")+")$")}e.forEach(function(e){var o=e;function i(r,n,o,i){void 0===i&&(i=!1);var a=r.prop,f=o||r.value,y=!1,d=!1,w=!1,V=!1;if(v&&b(v,e)&&(y=j.test(f)||p.test(f)),A&&!y&&b(A,e)&&(d=F.test(f)),i&&(!v||v&&!y)&&(!A||A&&!d)&&!0!==function(e,r){return S.test(e)&&"transparent"===r||j.test(r)||F.test(r)||t(e,r)}(n,o))return!1;if(P&&(!y||!d)){var $=q[e];if(!$){var D=h(P,e);D&&($=new RegExp("^"+D.join("$|^")+"$"),q[e]=$)}$&&(w=$.test(f))}if(k&&(!y||!d||!w)){var L=z[e];if(!L){var I=m(k,e);I&&(L=I.map(E),z[e]=L)}L&&(V=L.filter(function(e){return e.test(f)}).length>0)}if(!(y||d||w||V)){var Z=function(e,r){var n=e.ignoreFunctions,t=e.ignoreKeywords,o=e.ignoreValues,i=[];return e.ignoreVariables&&i.push("variable"),n&&i.push("function"),t&&h(t,r)&&i.push("keyword"),-1===i.indexOf("keyword")&&o&&m(o,r)&&i.push("keyword"),i}(g,e);if(u.fix&&!R&&M){var N=M(r,{validVar:y,validFunc:d,validKeyword:w,validValue:V,longhandProp:n,longhandValue:o},s,g);N&&(r.value=N)}else x.report({ruleName:l,result:c,node:r,line:r.source.start.line,message:O.expected(Z,f,a,K)});return!0}return!1}V(o)&&(o=$(o)),s.walkDecls(function(e){var t=e.value,a=e.prop;if(!w.test(a)){var u=D&&r.isShorthand(a);if(a===o||!u&&o instanceof RegExp&&o.test(a)){var s=n.space(t);if(s.length>1){var l=!1;s.forEach(function(r){l||(l=i(e,a,r))})}else i(e)}else if(u){var c=r.expand(a,t,L),f=!1;Object.keys(c).forEach(function(r){var n=c[r];!f&&(r===o||o instanceof RegExp&&o.test(r))&&(f=i(e,r,n,!0))})}}})})}}};P.primaryOptionArray=!0;var k=e.createPlugin(l,P);export default k;export{O as messages,l as ruleName};
//# sourceMappingURL=index.esm.js.map
