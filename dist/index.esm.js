import e from"stylelint";import r from"shortcss";import n from"shortcss/lib/list";import t from"css-values";import o from"path";var i={ignoreVariables:!0,ignoreFunctions:!0,ignoreKeywords:null,ignoreValues:null,expandShorthand:!1,recurseLonghand:!1,severity:"error",message:null,disableFix:!1,autoFixFunc:null};function a(e){var r=typeof e;return"string"===r||"number"===r}function u(e){return a(e)||Array.isArray(e)&&e.every(function(e){return a(e)})}function s(e){return"object"==typeof e&&Object.keys(e).every(function(r){return u(e[r])})}function l(e){return"object"==typeof e&&Object.keys(e).every(function(r){return"boolean"==typeof e[r]})}function c(e){if("object"!=typeof e)return!1;var r=Object.keys(i);return!(!Object.keys(e).every(function(e){return r.indexOf(e)>-1})||"ignoreVariables"in e&&"boolean"!=typeof e.ignoreVariables&&!l(e.ignoreVariables)&&null!==e.ignoreVariables||"ignoreFunctions"in e&&"boolean"!=typeof e.ignoreFunctions&&!l(e.ignoreFunctions)&&null!==e.ignoreFunctions||"severity"in e&&"string"!=typeof e.severity&&null!==e.severity||"ignoreKeywords"in e&&!u(e.ignoreKeywords)&&!s(e.ignoreKeywords)||"ignoreValues"in e&&!u(e.ignoreValues)&&!s(e.ignoreValues)||"expandShorthand"in e&&"boolean"!=typeof e.expandShorthand&&null!==e.expandShorthand||"recurseLonghand"in e&&"boolean"!=typeof e.recurseLonghand&&null!==e.recurseLonghand||"message"in e&&"string"!=typeof e.message&&null!==e.message||"disableFix"in e&&"boolean"!=typeof e.disableFix&&null!==e.disableFix||"autoFixFunc"in e&&"function"!=typeof e.autoFixFunc&&"string"!=typeof e.autoFixFunc&&null!==e.autoFixFunc)}function f(e,r){var n=typeof e;return"boolean"===n?e:"object"===n&&e&&{}.hasOwnProperty.call(e,r)?e[r]:!!e}function p(e,r){if(!e)return null;var n=e;return{}.hasOwnProperty.call(n,r)?n=n[r]:{}.hasOwnProperty.call(n,"")&&(n=n[""]),Array.isArray(n)?n:[n]}function y(e,r){if(!e)return null;var n=e;return{}.hasOwnProperty.call(n,r)?n=n[r]:{}.hasOwnProperty.call(n,"")&&(n=n[""]),Array.isArray(n)?n:[n]}var g="scale-unlimited/declaration-strict-value",v=e.utils,d=v.ruleMessages(g,{expected:function(e,r,n,t){if(Array.isArray(e)){var o=e.pop();e=e.length?e.join(", ")+" or "+o:o}return"string"==typeof t&&t.length?t.replace("${types}",e).replace("${value}",r).replace("${property}",n):"Expected "+e+' for "'+r+'" of "'+n+'"'}}),h=/^(?:@|\$|--).+$/,b=/^-?(?:@.+|(?:(?:[a-zA-Z_-]|[^\x00-\x7F])+(?:[a-zA-Z0-9_-]|[^\x00-\x7F])*\.)?\$.+|var\(\s*--[\s\S]+\))$/,x=/^(?!var\(\s*--)[\s\S]+\([\s\S]*\)$/,F=/^\/(.*)\/([a-zA-Z]*)$/,m=function(e){return F.test(e)},w=function(e){return new(Function.prototype.bind.apply(RegExp,[null].concat(function(e){return e.match(F).slice(1)}(e))))},V=function(e){return m(e)?w(e):new RegExp("^"+e+"$")},A=function(e,a,s){return void 0===s&&(s={}),function(l,F){if(v.validateOptions(F,g,{actual:e,possible:u},{actual:a,possible:c,optional:!0})){Array.isArray(e)||(e=[e]);var A=Object.assign({},i,a),j=A.ignoreVariables,O=A.ignoreFunctions,$=A.ignoreKeywords,E=A.ignoreValues,k=A.message,S=A.disableFix,K=A.expandShorthand,P=A.recurseLonghand,R=function(e){var r=typeof e;if("function"===r)return e;if("string"===r){var n;try{n=require.resolve(e)}catch(r){n=require.resolve(o.join(process.cwd(),e))}return require(n)}return null}(A.autoFixFunc),L=$?{}:null,q=E?{}:null,z=[];j&&(l.walkAtRules("value",function(e){var r=e.params.split(":")[0].trim();z.push(r)}),z=new RegExp("^-?(:?"+z.join("|")+")$")),e.forEach(function(e){var o=e;function i(r,n,o,i){void 0===i&&(i=!1);var a=r.prop,u=o||r.value,c=!1,h=!1,m=!1,w=!1;if(j&&f(j,e)&&(c=b.test(u)||z.test(u)),O&&!c&&f(O,e)&&(h=x.test(u)),i&&j&&!c&&O&&!h&&!0!==t(n,o))return!1;if($&&(!c||!h)){var K=L[e];if(!K){var P=p($,e);P&&(K=new RegExp("^"+P.join("$|^")+"$"),L[e]=K)}K&&(m=K.test(u))}if(E&&(!c||!h||!m)){var Z=q[e];if(!Z){var _=y(E,e);_&&(Z=_.map(V),q[e]=Z)}Z&&(w=Z.filter(function(e){return e.test(u)}).length>0)}if(!(c||h||m||w)){var D=function(e,r){var n=e.ignoreFunctions,t=e.ignoreKeywords,o=e.ignoreValues,i=[];return e.ignoreVariables&&i.push("variable"),n&&i.push("function"),t&&p(t,r)&&i.push("keyword"),o&&y(o,r)&&i.push("keyword"),i}(A,e);if(s.fix&&!S){var M=R(r,{validVar:c,validFunc:h,validKeyword:m,validValue:w,longhandProp:n,longhandValue:o},l,A);M&&(r.value=M)}else{var N=r.source.start;v.report({ruleName:g,result:F,node:r,line:N.line,column:N.column+a.length+r.raws.between.length,message:d.expected(D,u,a,k)})}return!0}return!1}m(o)&&(o=w(o)),l.walkDecls(function(e){var t=e.value,a=e.prop;if(!h.test(a)){var u=K&&r.isShorthand(a);if(a===o||!u&&o instanceof RegExp&&o.test(a)){var s=n.space(t);if(s.length>1){var l=!1;s.forEach(function(r){l||(l=i(e,a,r))})}else i(e)}else if(u){var c=r.expand(a,t,P),f=!1;Object.keys(c).forEach(function(r){var n=c[r];!f&&(r===o||o instanceof RegExp&&o.test(r))&&(f=i(e,r,n,!0))})}}})})}}};A.primaryOptionArray=!0;export default e.createPlugin(g,A);export{g as ruleName,d as messages};
//# sourceMappingURL=index.esm.js.map
