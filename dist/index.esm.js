import e from"stylelint";import n from"shortcss";import r from"path";var t={ignoreVariables:!0,ignoreFunctions:!0,ignoreKeywords:null,ignoreValues:null,expandShorthand:!1,recurseLonghand:!1,severity:"error",message:null,disableFix:!1,autoFixFunc:null};function o(e){var n=typeof e;return"string"===n||"number"===n}function i(e){return o(e)||Array.isArray(e)&&e.every(function(e){return o(e)})}function a(e){return"object"==typeof e&&Object.keys(e).every(function(n){return i(e[n])})}function u(e){return"object"==typeof e&&Object.keys(e).every(function(n){return"boolean"==typeof e[n]})}function s(e){if("object"!=typeof e)return!1;var n=Object.keys(t);return!(!Object.keys(e).every(function(e){return n.indexOf(e)>-1})||"ignoreVariables"in e&&"boolean"!=typeof e.ignoreVariables&&!u(e.ignoreVariables)&&null!==e.ignoreVariables||"ignoreFunctions"in e&&"boolean"!=typeof e.ignoreFunctions&&!u(e.ignoreFunctions)&&null!==e.ignoreFunctions||"severity"in e&&"string"!=typeof e.severity&&null!==e.severity||"ignoreKeywords"in e&&!i(e.ignoreKeywords)&&!a(e.ignoreKeywords)||"ignoreValues"in e&&!i(e.ignoreValues)&&!a(e.ignoreValues)||"expandShorthand"in e&&"boolean"!=typeof e.expandShorthand&&null!==e.expandShorthand||"recurseLonghand"in e&&"boolean"!=typeof e.recurseLonghand&&null!==e.recurseLonghand||"message"in e&&"string"!=typeof e.message&&null!==e.message||"disableFix"in e&&"boolean"!=typeof e.disableFix&&null!==e.disableFix||"autoFixFunc"in e&&"function"!=typeof e.autoFixFunc&&"string"!=typeof e.autoFixFunc&&null!==e.autoFixFunc)}function l(e,n){var r=typeof e;return"boolean"===r?e:"object"===r&&e&&{}.hasOwnProperty.call(e,n)?e[n]:!!e}function c(e,n){if(!e)return null;var r=e;return{}.hasOwnProperty.call(r,n)?r=r[n]:{}.hasOwnProperty.call(r,"")&&(r=r[""]),Array.isArray(r)?r:[r]}function f(e,n){if(!e)return null;var r=e;return{}.hasOwnProperty.call(r,n)?r=r[n]:{}.hasOwnProperty.call(r,"")&&(r=r[""]),Array.isArray(r)?r:[r]}var p="scale-unlimited/declaration-strict-value",y=e.utils,g=y.ruleMessages(p,{expected:function(e,n,r,t){if(Array.isArray(e)){var o=e.pop();e=e.length?e.join(", ")+" or "+o:o}return"string"==typeof t&&t.length?t.replace("${types}",e).replace("${value}",n).replace("${property}",r):"Expected "+e+' for "'+n+'" of "'+r+'"'}}),v=/^(?:@|\$|--).+$/,d=/^-?(?:@.+|(?:(?:[a-zA-Z_-]|[^\x00-\x7F])+(?:[a-zA-Z0-9_-]|[^\x00-\x7F])*\.)?\$.+|var\(\s*--[\s\S]+\))$/,h=/^(?!var\(\s*--)[\s\S]+\([\s\S]*\)$/,b=/^\/(.*)\/([a-zA-Z]*)$/,x=function(e){return b.test(e)},F=function(e){return new(Function.prototype.bind.apply(RegExp,[null].concat(function(e){return e.match(b).slice(1)}(e))))},w=function(e){return x(e)?F(e):new RegExp("^"+e+"$")},m=function(e,o,a){return void 0===a&&(a={}),function(u,b){if(y.validateOptions(b,p,{actual:e,possible:i},{actual:o,possible:s,optional:!0})){Array.isArray(e)||(e=[e]);var m=Object.assign({},t,o),V=m.ignoreVariables,A=m.ignoreFunctions,j=m.ignoreKeywords,O=m.ignoreValues,$=m.message,k=m.disableFix,E=m.expandShorthand,S=m.recurseLonghand,K=function(e){var n=typeof e;if("function"===n)return e;if("string"===n){var t;try{t=require.resolve(e)}catch(n){t=require.resolve(r.join(process.cwd(),e))}return require(t)}return null}(m.autoFixFunc),P=j?{}:null,R=O?{}:null,L=[];V&&(u.walkAtRules("value",function(e){var n=e.params.split(":")[0].trim();L.push(n)}),L=new RegExp("^-?(:?"+L.join("|")+")$")),e.forEach(function(e){var r=e;function t(n,r,t){var o=n.prop,i=t||n.value,s=!1,v=!1,x=!1,F=!1;if(V&&l(V,e)&&(s=d.test(i)||L.test(i)),A&&!s&&l(A,e)&&(v=h.test(i)),j&&(!s||!v)){var E=P[e];if(!E){var S=c(j,e);S&&(E=new RegExp("^"+S.join("$|^")+"$"),P[e]=E)}E&&(x=E.test(i))}if(O&&(!s||!v||!x)){var q=R[e];if(!q){var z=f(O,e);z&&(q=z.map(w),R[e]=q)}q&&(F=q.filter(function(e){return e.test(i)}).length>0)}if(!(s||v||x||F)){var Z=function(e,n){var r=e.ignoreFunctions,t=e.ignoreKeywords,o=e.ignoreValues,i=[];return e.ignoreVariables&&i.push("variable"),r&&i.push("function"),t&&c(t,n)&&i.push("keyword"),o&&f(o,n)&&i.push("keyword"),i}(m,e);if(a.fix&&!k){var _=K(n,{validVar:s,validFunc:v,validKeyword:x,validValue:F,longhandProp:r,longhandValue:t},u,m);_&&(n.value=_)}else{var D=n.source.start;y.report({ruleName:p,result:b,node:n,line:D.line,column:D.column+o.length+n.raws.between.length,message:g.expected(Z,i,o,$)})}return!0}return!1}x(r)&&(r=F(r)),u.walkDecls(function(e){var o=e.value,i=e.prop;if(!v.test(i)){var a=E&&n.isShorthand(i);if(i===r||!a&&r instanceof RegExp&&r.test(i))t(e);else if(a){var u=n.expand(i,o,S),s=!1;Object.keys(u).forEach(function(n){var o=u[n];!s&&(n===r||r instanceof RegExp&&r.test(n))&&(s=t(e,n,o))})}}})})}}};m.primaryOptionArray=!0;export default e.createPlugin(p,m);export{p as ruleName,g as messages};
//# sourceMappingURL=index.esm.js.map
