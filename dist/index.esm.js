import e from"stylelint";import r from"shortcss";import n from"css-values";import t from"path";var o={ignoreVariables:!0,ignoreFunctions:!0,ignoreKeywords:null,ignoreValues:null,expandShorthand:!1,recurseLonghand:!1,severity:"error",message:null,disableFix:!1,autoFixFunc:null};function i(e){var r=typeof e;return"string"===r||"number"===r}function a(e){return i(e)||Array.isArray(e)&&e.every(function(e){return i(e)})}function u(e){return"object"==typeof e&&Object.keys(e).every(function(r){return a(e[r])})}function s(e){return"object"==typeof e&&Object.keys(e).every(function(r){return"boolean"==typeof e[r]})}function l(e){if("object"!=typeof e)return!1;var r=Object.keys(o);return!(!Object.keys(e).every(function(e){return r.indexOf(e)>-1})||"ignoreVariables"in e&&"boolean"!=typeof e.ignoreVariables&&!s(e.ignoreVariables)&&null!==e.ignoreVariables||"ignoreFunctions"in e&&"boolean"!=typeof e.ignoreFunctions&&!s(e.ignoreFunctions)&&null!==e.ignoreFunctions||"severity"in e&&"string"!=typeof e.severity&&null!==e.severity||"ignoreKeywords"in e&&!a(e.ignoreKeywords)&&!u(e.ignoreKeywords)||"ignoreValues"in e&&!a(e.ignoreValues)&&!u(e.ignoreValues)||"expandShorthand"in e&&"boolean"!=typeof e.expandShorthand&&null!==e.expandShorthand||"recurseLonghand"in e&&"boolean"!=typeof e.recurseLonghand&&null!==e.recurseLonghand||"message"in e&&"string"!=typeof e.message&&null!==e.message||"disableFix"in e&&"boolean"!=typeof e.disableFix&&null!==e.disableFix||"autoFixFunc"in e&&"function"!=typeof e.autoFixFunc&&"string"!=typeof e.autoFixFunc&&null!==e.autoFixFunc)}function c(e,r){var n=typeof e;return"boolean"===n?e:"object"===n&&e&&{}.hasOwnProperty.call(e,r)?e[r]:!!e}function f(e,r){if(!e)return null;var n=e;return{}.hasOwnProperty.call(n,r)?n=n[r]:{}.hasOwnProperty.call(n,"")&&(n=n[""]),Array.isArray(n)?n:[n]}function p(e,r){if(!e)return null;var n=e;return{}.hasOwnProperty.call(n,r)?n=n[r]:{}.hasOwnProperty.call(n,"")&&(n=n[""]),Array.isArray(n)?n:[n]}var y="scale-unlimited/declaration-strict-value",g=e.utils,v=g.ruleMessages(y,{expected:function(e,r,n,t){if(Array.isArray(e)){var o=e.pop();e=e.length?e.join(", ")+" or "+o:o}return"string"==typeof t&&t.length?t.replace("${types}",e).replace("${value}",r).replace("${property}",n):"Expected "+e+' for "'+r+'" of "'+n+'"'}}),d=/^(?:@|\$|--).+$/,h=/^-?(?:@.+|(?:(?:[a-zA-Z_-]|[^\x00-\x7F])+(?:[a-zA-Z0-9_-]|[^\x00-\x7F])*\.)?\$.+|var\(\s*--[\s\S]+\))$/,b=/^(?!var\(\s*--)[\s\S]+\([\s\S]*\)$/,x=/^\/(.*)\/([a-zA-Z]*)$/,F=function(e){return x.test(e)},m=function(e){return new(Function.prototype.bind.apply(RegExp,[null].concat(function(e){return e.match(x).slice(1)}(e))))},w=function(e){return F(e)?m(e):new RegExp("^"+e+"$")},V=function(e,i,u){return void 0===u&&(u={}),function(s,x){if(g.validateOptions(x,y,{actual:e,possible:a},{actual:i,possible:l,optional:!0})){Array.isArray(e)||(e=[e]);var V=Object.assign({},o,i),A=V.ignoreVariables,j=V.ignoreFunctions,O=V.ignoreKeywords,$=V.ignoreValues,k=V.message,E=V.disableFix,S=V.expandShorthand,K=V.recurseLonghand,P=function(e){var r=typeof e;if("function"===r)return e;if("string"===r){var n;try{n=require.resolve(e)}catch(r){n=require.resolve(t.join(process.cwd(),e))}return require(n)}return null}(V.autoFixFunc),R=O?{}:null,L=$?{}:null,q=[];A&&(s.walkAtRules("value",function(e){var r=e.params.split(":")[0].trim();q.push(r)}),q=new RegExp("^-?(:?"+q.join("|")+")$")),e.forEach(function(e){var t=e;function o(r,t,o,i){void 0===i&&(i=!1);var a=r.prop,l=o||r.value,d=!1,F=!1,m=!1,S=!1;if(A&&c(A,e)&&(d=h.test(l)||q.test(l)),j&&!d&&c(j,e)&&(F=b.test(l)),i&&A&&!d&&j&&!F&&!0!==n(t,o))return!1;if(O&&(!d||!F)){var K=R[e];if(!K){var z=f(O,e);z&&(K=new RegExp("^"+z.join("$|^")+"$"),R[e]=K)}K&&(m=K.test(l))}if($&&(!d||!F||!m)){var Z=L[e];if(!Z){var _=p($,e);_&&(Z=_.map(w),L[e]=Z)}Z&&(S=Z.filter(function(e){return e.test(l)}).length>0)}if(!(d||F||m||S)){var D=function(e,r){var n=e.ignoreFunctions,t=e.ignoreKeywords,o=e.ignoreValues,i=[];return e.ignoreVariables&&i.push("variable"),n&&i.push("function"),t&&f(t,r)&&i.push("keyword"),o&&p(o,r)&&i.push("keyword"),i}(V,e);if(u.fix&&!E){var M=P(r,{validVar:d,validFunc:F,validKeyword:m,validValue:S,longhandProp:t,longhandValue:o},s,V);M&&(r.value=M)}else{var N=r.source.start;g.report({ruleName:y,result:x,node:r,line:N.line,column:N.column+a.length+r.raws.between.length,message:v.expected(D,l,a,k)})}return!0}return!1}F(t)&&(t=m(t)),s.walkDecls(function(e){var n=e.value,i=e.prop;if(!d.test(i)){var a=S&&r.isShorthand(i);if(i===t||!a&&t instanceof RegExp&&t.test(i))o(e);else if(a){var u=r.expand(i,n,K),s=!1;Object.keys(u).forEach(function(r){var n=u[r];!s&&(r===t||t instanceof RegExp&&t.test(r))&&(s=o(e,r,n,!0))})}}})})}}};V.primaryOptionArray=!0;export default e.createPlugin(y,V);export{y as ruleName,v as messages};
//# sourceMappingURL=index.esm.js.map
