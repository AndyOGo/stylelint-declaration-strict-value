!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("stylelint"),require("shortcss"),require("shortcss/lib/list.js"),require("css-values"),require("path"),require("node:process")):"function"==typeof define&&define.amd?define(["exports","stylelint","shortcss","shortcss/lib/list.js","css-values","path","node:process"],t):t((e||self).stylelintDeclarationStrictValue={},e.stylelint,e.shortcss,e.list,e.cssValues,e.path,e.process$1)}(this,function(e,t,n,r,o,s,i){function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=/*#__PURE__*/l(t),u=/*#__PURE__*/l(n),c=/*#__PURE__*/l(r),f=/*#__PURE__*/l(o),p=/*#__PURE__*/l(s),d=/*#__PURE__*/l(i);const y="scale-unlimited/declaration-strict-value",g=(e,t)=>"object"==typeof e&&Object.hasOwnProperty.call(e,t),h={ignoreVariables:!0,ignoreFunctions:!0,ignoreKeywords:null,ignoreValues:null,expandShorthand:!1,recurseLonghand:!1,severity:"error",message:void 0,disableFix:!1,autoFixFunc:null};function b(e){const t=typeof e;return"string"===t||"number"===t}function x(e){return b(e)||Array.isArray(e)&&e.every(e=>b(e))}function m(e){return!("object"!=typeof e||!e)&&Object.keys(e).every(t=>x(e[t]))}function v(e){return!("object"!=typeof e||!e)&&Object.keys(e).every(t=>"boolean"==typeof e[t])}function F(e){if("object"!=typeof e)return!1;const t=Object.keys(h);return!(!Object.keys(e).every(e=>t.indexOf(e)>-1)||"ignoreVariables"in e&&"boolean"!=typeof e.ignoreVariables&&!v(e.ignoreVariables)&&null!==e.ignoreVariables||"ignoreFunctions"in e&&"boolean"!=typeof e.ignoreFunctions&&!v(e.ignoreFunctions)&&null!==e.ignoreFunctions||"severity"in e&&"string"!=typeof e.severity&&null!==e.severity||"ignoreKeywords"in e&&!x(e.ignoreKeywords)&&!m(e.ignoreKeywords)||"ignoreValues"in e&&!x(e.ignoreValues)&&!m(e.ignoreValues)||"expandShorthand"in e&&"boolean"!=typeof e.expandShorthand&&null!==e.expandShorthand||"recurseLonghand"in e&&"boolean"!=typeof e.recurseLonghand&&null!==e.recurseLonghand||"message"in e&&"string"!=typeof e.message&&null!==e.message||"disableFix"in e&&"boolean"!=typeof e.disableFix&&null!==e.disableFix||"autoFixFunc"in e&&"function"!=typeof e.autoFixFunc&&"string"!=typeof e.autoFixFunc&&null!==e.autoFixFunc)}function $(e){let t;if(Array.isArray(e)){const n=e.pop();t=e.length?`${e.join(", ")} or ${n}`:n}else t=e;return t}function w(e,t){return"boolean"==typeof e?e:"object"==typeof e&&e&&{}.hasOwnProperty.call(e,t)?e[t]:!!e}function j(e,t){if(!e)return null;let n=e;return g(n,t)?n=n[t]:g(n,"")&&(n=n[""]),Array.isArray(n)?n:[n]}function V(e,t){if(!e)return null;let n=e;return g(n,t)?n=n[t]:g(n,"")&&(n=n[""]),Array.isArray(n)?n:[n]}!function(){const e=d.default.emitWarning;d.default.emitWarning=function(){var t=[].slice.call(arguments);const[n,r]=t;r&&"object"==typeof r&&"DeprecationWarning"===r?.type&&r?.code?.startsWith("stylelint:")&&(n&&"string"==typeof n&&n?.includes(y)||r?.detail?.includes(y))||e.apply(d.default,t)}}();const{utils:A}=a.default,E={url:"https://github.com/AndyOGo/stylelint-declaration-strict-value/blob/master/README.md",fixable:!0},O=A.ruleMessages(y,{expected:function(e,t,n){return`Expected ${e} for "${t}" of "${n}"`},customExpected:function(e,t,n,r){return r.replace("${types}",e).replace("${value}",t).replace("${property}",n)},failedToFix:function(e,t,n){return e&&("string"==typeof e||e instanceof Error)?"string"==typeof e?e:e.message:`Property "${n}" with value "${t}" can't be autofixed`}}),k=/^(?:@|\$|--).+$/,S=/^-?(?:@.+|(?:(?:[a-zA-Z_-]|[^\x20-\x7F])+(?:[a-zA-Z0-9_-]|[^\x20-\x7F])*\.)?\$.+|var\(\s*--[\s\S]+\))$/,q=/^(?!var\(\s*--)[\s\S]+\([\s\S]*\)$/,R=/^\/(.*)\/([a-zA-Z]*)$/,K=/color/,L=e=>R.test(e),M=e=>{const[t,n]=(e=>e.match(R).slice(1))(e);return new RegExp(t,n)},N=e=>L(`${e}`)?M(`${e}`):new RegExp(`^${e}$`),P=(e,t,n={})=>(r,o)=>{if(o&&o.stylelint&&o.stylelint.customMessages&&o.stylelint.customMessages[y]&&delete o.stylelint.customMessages[y],!A.validateOptions(o,y,{actual:e,possible:x},{actual:t,possible:F,optional:!0}))return;Array.isArray(e)||(e=[e]);const s={...h,...t},{ignoreVariables:i,ignoreFunctions:l,ignoreKeywords:a,ignoreValues:d,message:g,disableFix:b,autoFixFunc:m,expandShorthand:v,recurseLonghand:E}=s,R=function(e,t,n){if("function"==typeof e)return e;if("string"==typeof e){let t;try{t=require.resolve(e)}catch(n){t=require.resolve(p.default.join(process.cwd(),e))}return require(t)}return!t&&n&&console.warn(`No \`autoFix\` function provided, consider using \`disableFix\` for "${y}"`),null}(m,b,n.fix),P=a?{}:null,D=d?{}:null;let T;if(i){const e=[];r.walkAtRules("value",t=>{const{params:n}=t,r=n.split(":")[0].trim();e.push(r)}),T=new RegExp(`^-?(:?${e.join("|")})$`)}e.forEach(e=>{let t=e;function p(t,u,c,p=!1){const{value:h,prop:x}=t,m=c||h;let v=!1,F=!1,E=!1,k=!1;if(i&&w(i,e)&&(v=S.test(m)||T.test(m)),l&&!v&&w(l,e)&&(F=q.test(m)),p&&(!i||i&&!v)&&(!l||l&&!F)&&!0!==((e,t)=>K.test(e)&&"transparent"===t||S.test(t)||q.test(t)||f.default(e,t))(u,c))return!1;if(a&&(!v||!F)){let t=P[e];if(!t){const n=j(a,e);n&&(t=new RegExp(`^${n.join("$|^")}$`),P[e]=t)}t&&(E=t.test(m))}if(d&&(!v||!F||!E)){let t=D[e];if(!t){const n=V(d,e);n&&(t=n.map(N),D[e]=t)}t&&(k=t.filter(e=>e.test(m)).length>0)}if(!(v||F||E||k)){const i=function(e,t){const{ignoreVariables:n,ignoreFunctions:r,ignoreKeywords:o,ignoreValues:s}=e,i=[];return n&&i.push("variable"),r&&i.push("function"),o&&j(o,t)&&i.push("keyword"),-1===i.indexOf("keyword")&&s&&V(s,t)&&i.push("keyword"),i}(s,e);if(n.fix&&!b&&R)try{const e=R(t,{validVar:v,validFunc:F,validKeyword:E,validValue:k,longhandProp:u,longhandValue:c},r,s);e&&(t.value=e)}catch(e){const{raws:n}=t,r=t.source.start;A.report({ruleName:y,result:o,node:t,line:r.line,column:r.column+x.length+n.between.length,message:O.failedToFix(e,m,x)})}else{const{raws:e}=t,n=t.source.start;A.report({ruleName:y,result:o,node:t,line:n.line,column:n.column+x.length+e.between.length,message:g?O.customExpected($(i),m,x,g):O.expected($(i),m,x)})}return!0}return!1}L(t)&&(t=M(t)),r.walkDecls(function(e){const{value:n,prop:r}=e;if(k.test(r))return;const o=v&&u.default.isShorthand(r);if(r===t||!o&&t instanceof RegExp&&t.test(r)){const t=c.default.space(n);if(t.length>1){let n=!1;t.forEach(t=>{n||(n=p(e,r,t))})}else p(e)}else if(o){const o=u.default.expand(r,n,E);let s=!1;Object.keys(o).forEach(n=>{const r=o[n];!s&&(n===t||t instanceof RegExp&&t.test(n))&&(s=p(e,n,r,!0))})}})})};P.primaryOptionArray=!0,P.ruleName=y,P.messages=O,P.meta=E;const D=a.default.createPlugin(y,P);e.default=D,e.messages=O,e.meta=E,e.rule=P,e.ruleName=y});
//# sourceMappingURL=index.umd.js.map
