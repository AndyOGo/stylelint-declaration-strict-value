import e from"stylelint";import r from"shortcss";import t from"shortcss/lib/list";import n from"css-values";import o from"path";function i(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function s(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function a(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?s(Object(t),!0).forEach(function(r){i(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function l(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}const u=(e,r)=>"object"==typeof e&&Object.hasOwnProperty.call(e,r),c={ignoreVariables:!0,ignoreFunctions:!0,ignoreKeywords:null,ignoreValues:null,expandShorthand:!1,recurseLonghand:!1,severity:"error",message:void 0,disableFix:!1,autoFixFunc:null};function f(e){const r=typeof e;return"string"===r||"number"===r}function p(e){return f(e)||Array.isArray(e)&&e.every(e=>f(e))}function y(e){return!("object"!=typeof e||!e)&&Object.keys(e).every(r=>p(e[r]))}function g(e){return!("object"!=typeof e||!e)&&Object.keys(e).every(r=>"boolean"==typeof e[r])}function b(e){if("object"!=typeof e)return!1;const r=Object.keys(c);return!(!Object.keys(e).every(e=>r.indexOf(e)>-1)||"ignoreVariables"in e&&"boolean"!=typeof e.ignoreVariables&&!g(e.ignoreVariables)&&null!==e.ignoreVariables||"ignoreFunctions"in e&&"boolean"!=typeof e.ignoreFunctions&&!g(e.ignoreFunctions)&&null!==e.ignoreFunctions||"severity"in e&&"string"!=typeof e.severity&&null!==e.severity||"ignoreKeywords"in e&&!p(e.ignoreKeywords)&&!y(e.ignoreKeywords)||"ignoreValues"in e&&!p(e.ignoreValues)&&!y(e.ignoreValues)||"expandShorthand"in e&&"boolean"!=typeof e.expandShorthand&&null!==e.expandShorthand||"recurseLonghand"in e&&"boolean"!=typeof e.recurseLonghand&&null!==e.recurseLonghand||"message"in e&&"string"!=typeof e.message&&null!==e.message||"disableFix"in e&&"boolean"!=typeof e.disableFix&&null!==e.disableFix||"autoFixFunc"in e&&"function"!=typeof e.autoFixFunc&&"string"!=typeof e.autoFixFunc&&null!==e.autoFixFunc)}function d(e,r){return"boolean"==typeof e?e:"object"==typeof e&&e&&{}.hasOwnProperty.call(e,r)?e[r]:!!e}function h(e,r){if(!e)return null;let t=e;return u(t,r)?t=t[r]:u(t,"")&&(t=t[""]),Array.isArray(t)?t:[t]}function v(e,r){if(!e)return null;let t=e;return u(t,r)?t=t[r]:u(t,"")&&(t=t[""]),Array.isArray(t)?t:[t]}const m="scale-unlimited/declaration-strict-value",x=e.utils,O=x.ruleMessages(m,{expected:function(e,r,t,n=""){let o;if(Array.isArray(e)){const r=e.pop();o=e.length?`${e.join(", ")} or ${r}`:r}else o=e;return"string"==typeof n&&n.length?n.replace("${types}",o).replace("${value}",r).replace("${property}",t):`Expected ${o} for "${r}" of "${t}"`}}),j=/^(?:@|\$|--).+$/,w=/^-?(?:@.+|(?:(?:[a-zA-Z_-]|[^\x00-\x7F])+(?:[a-zA-Z0-9_-]|[^\x00-\x7F])*\.)?\$.+|var\(\s*--[\s\S]+\))$/,F=/^(?!var\(\s*--)[\s\S]+\([\s\S]*\)$/,$=/^\/(.*)\/([a-zA-Z]*)$/,A=e=>$.test(e),S=e=>{const r=function(e){if(Array.isArray(e))return e}(t=(e=>e.match($).slice(1))(e))||function(e,r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],n=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(t.push(s.value),2!==t.length);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return t}}(t)||function(e,r){if(e){if("string"==typeof e)return l(e,2);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?l(e,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();var t;return new RegExp(r[0],r[1])},V=e=>A(""+e)?S(""+e):new RegExp(`^${e}$`),E=(e,i,s={})=>(l,u)=>{if(!x.validateOptions(u,m,{actual:e,possible:p},{actual:i,possible:b,optional:!0}))return;Array.isArray(e)||(e=[e]);const f=a(a({},c),i),y=f.ignoreVariables,g=f.ignoreFunctions,$=f.ignoreKeywords,E=f.ignoreValues,P=f.message,k=f.disableFix,K=f.expandShorthand,R=f.recurseLonghand,D=function(e){if("function"==typeof e)return e;if("string"==typeof e){let r;try{r=require.resolve(e)}catch(t){r=require.resolve(o.join(process.cwd(),e))}return require(r)}return null}(f.autoFixFunc),L=$?{}:null,q=E?{}:null;let z;if(y){const e=[];l.walkAtRules("value",r=>{const t=r.params.split(":")[0].trim();e.push(t)}),z=new RegExp(`^-?(:?${e.join("|")})$`)}e.forEach(e=>{let o=e;function i(r,t,o,i=!1){const a=r.prop,c=o||r.value;let p=!1,b=!1,j=!1,A=!1;if(y&&d(y,e)&&(p=w.test(c)||z.test(c)),g&&!p&&d(g,e)&&(b=F.test(c)),i&&y&&!p&&g&&!b&&!0!==n(t,o))return!1;if($&&(!p||!b)){let r=L[e];if(!r){const t=h($,e);t&&(r=new RegExp(`^${t.join("$|^")}$`),L[e]=r)}r&&(j=r.test(c))}if(E&&(!p||!b||!j)){let r=q[e];if(!r){const t=v(E,e);t&&(r=t.map(V),q[e]=r)}r&&(A=r.filter(e=>e.test(c)).length>0)}if(!(p||b||j||A)){const n=function(e,r){const t=e.ignoreFunctions,n=e.ignoreKeywords,o=e.ignoreValues,i=[];return e.ignoreVariables&&i.push("variable"),t&&i.push("function"),n&&h(n,r)&&i.push("keyword"),o&&v(o,r)&&i.push("keyword"),i}(f,e);if(s.fix&&!k){const e=D(r,{validVar:p,validFunc:b,validKeyword:j,validValue:A,longhandProp:t,longhandValue:o},l,f);e&&(r.value=e)}else x.report({ruleName:m,result:u,node:r,line:r.source.start.line,message:O.expected(n,c,a,P)});return!0}return!1}A(o)&&(o=S(o)),l.walkDecls(function(e){const n=e.value,s=e.prop;if(j.test(s))return;const a=K&&r.isShorthand(s);if(s===o||!a&&o instanceof RegExp&&o.test(s)){const r=t.space(n);if(r.length>1){let t=!1;r.forEach(r=>{t||(t=i(e,s,r))})}else i(e)}else if(a){const t=r.expand(s,n,R);let a=!1;Object.keys(t).forEach(r=>{const n=t[r];!a&&(r===o||o instanceof RegExp&&o.test(r))&&(a=i(e,r,n,!0))})}})})};E.primaryOptionArray=!0;const P=e.createPlugin(m,E);export default P;export{O as messages,m as ruleName};
//# sourceMappingURL=index.modern.js.map
