import e from"stylelint";import t from"shortcss";import r from"shortcss/lib/list";import n from"css-values";import o from"path";function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){i(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const u=(e,t)=>"object"==typeof e&&Object.hasOwnProperty.call(e,t),c={ignoreVariables:!0,ignoreFunctions:!0,ignoreKeywords:null,ignoreValues:null,expandShorthand:!1,recurseLonghand:!1,severity:"error",message:void 0,disableFix:!1,autoFixFunc:null};function f(e){const t=typeof e;return"string"===t||"number"===t}function p(e){return f(e)||Array.isArray(e)&&e.every(e=>f(e))}function y(e){return!("object"!=typeof e||!e)&&Object.keys(e).every(t=>p(e[t]))}function g(e){return!("object"!=typeof e||!e)&&Object.keys(e).every(t=>"boolean"==typeof e[t])}function b(e){if("object"!=typeof e)return!1;const t=Object.keys(c);return!(!Object.keys(e).every(e=>t.indexOf(e)>-1)||"ignoreVariables"in e&&"boolean"!=typeof e.ignoreVariables&&!g(e.ignoreVariables)&&null!==e.ignoreVariables||"ignoreFunctions"in e&&"boolean"!=typeof e.ignoreFunctions&&!g(e.ignoreFunctions)&&null!==e.ignoreFunctions||"severity"in e&&"string"!=typeof e.severity&&null!==e.severity||"ignoreKeywords"in e&&!p(e.ignoreKeywords)&&!y(e.ignoreKeywords)||"ignoreValues"in e&&!p(e.ignoreValues)&&!y(e.ignoreValues)||"expandShorthand"in e&&"boolean"!=typeof e.expandShorthand&&null!==e.expandShorthand||"recurseLonghand"in e&&"boolean"!=typeof e.recurseLonghand&&null!==e.recurseLonghand||"message"in e&&"string"!=typeof e.message&&null!==e.message||"disableFix"in e&&"boolean"!=typeof e.disableFix&&null!==e.disableFix||"autoFixFunc"in e&&"function"!=typeof e.autoFixFunc&&"string"!=typeof e.autoFixFunc&&null!==e.autoFixFunc)}function d(e,t){return"boolean"==typeof e?e:"object"==typeof e&&e&&{}.hasOwnProperty.call(e,t)?e[t]:!!e}function h(e,t){if(!e)return null;let r=e;return u(r,t)?r=r[t]:u(r,"")&&(r=r[""]),Array.isArray(r)?r:[r]}function m(e,t){if(!e)return null;let r=e;return u(r,t)?r=r[t]:u(r,"")&&(r=r[""]),Array.isArray(r)?r:[r]}const v="scale-unlimited/declaration-strict-value",x=e.utils,O=x.ruleMessages(v,{expected:function(e,t,r,n=""){let o;if(Array.isArray(e)){const t=e.pop();o=e.length?`${e.join(", ")} or ${t}`:t}else o=e;return"string"==typeof n&&n.length?n.replace("${types}",o).replace("${value}",t).replace("${property}",r):`Expected ${o} for "${t}" of "${r}"`}}),j=/^(?:@|\$|--).+$/,w=/^-?(?:@.+|(?:(?:[a-zA-Z_-]|[^\x00-\x7F])+(?:[a-zA-Z0-9_-]|[^\x00-\x7F])*\.)?\$.+|var\(\s*--[\s\S]+\))$/,F=/^(?!var\(\s*--)[\s\S]+\([\s\S]*\)$/,$=/^\/(.*)\/([a-zA-Z]*)$/,A=e=>$.test(e),S=e=>{const t=function(e){if(Array.isArray(e))return e}(r=(e=>e.match($).slice(1))(e))||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),2!==r.length);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}}(r)||function(e,t){if(e){if("string"==typeof e)return l(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,2):void 0}}(r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();var r;return new RegExp(t[0],t[1])},V=e=>A(""+e)?S(""+e):new RegExp(`^${e}$`),E=(e,i,s={})=>(l,u)=>{if(u&&u.stylelint&&u.stylelint.customMessages&&u.stylelint.customMessages[v]&&delete u.stylelint.customMessages[v],!x.validateOptions(u,v,{actual:e,possible:p},{actual:i,possible:b,optional:!0}))return;Array.isArray(e)||(e=[e]);const f=a(a({},c),i),y=f.ignoreVariables,g=f.ignoreFunctions,$=f.ignoreKeywords,E=f.ignoreValues,P=f.message,k=f.disableFix,K=f.expandShorthand,R=f.recurseLonghand,D=function(e){if("function"==typeof e)return e;if("string"==typeof e){let t;try{t=require.resolve(e)}catch(r){t=require.resolve(o.join(process.cwd(),e))}return require(t)}return null}(f.autoFixFunc),L=$?{}:null,M=E?{}:null;let q;if(y){const e=[];l.walkAtRules("value",t=>{const r=t.params.split(":")[0].trim();e.push(r)}),q=new RegExp(`^-?(:?${e.join("|")})$`)}e.forEach(e=>{let o=e;function i(t,r,o,i=!1){const a=t.prop,c=o||t.value;let p=!1,b=!1,j=!1,A=!1;if(y&&d(y,e)&&(p=w.test(c)||q.test(c)),g&&!p&&d(g,e)&&(b=F.test(c)),i&&y&&!p&&g&&!b&&!0!==n(r,o))return!1;if($&&(!p||!b)){let t=L[e];if(!t){const r=h($,e);r&&(t=new RegExp(`^${r.join("$|^")}$`),L[e]=t)}t&&(j=t.test(c))}if(E&&(!p||!b||!j)){let t=M[e];if(!t){const r=m(E,e);r&&(t=r.map(V),M[e]=t)}t&&(A=t.filter(e=>e.test(c)).length>0)}if(!(p||b||j||A)){const n=function(e,t){const r=e.ignoreFunctions,n=e.ignoreKeywords,o=e.ignoreValues,i=[];return e.ignoreVariables&&i.push("variable"),r&&i.push("function"),n&&h(n,t)&&i.push("keyword"),o&&m(o,t)&&i.push("keyword"),i}(f,e);if(s.fix&&!k){const e=D(t,{validVar:p,validFunc:b,validKeyword:j,validValue:A,longhandProp:r,longhandValue:o},l,f);e&&(t.value=e)}else x.report({ruleName:v,result:u,node:t,line:t.source.start.line,message:O.expected(n,c,a,P)});return!0}return!1}A(o)&&(o=S(o)),l.walkDecls(function(e){const n=e.value,s=e.prop;if(j.test(s))return;const a=K&&t.isShorthand(s);if(s===o||!a&&o instanceof RegExp&&o.test(s)){const t=r.space(n);if(t.length>1){let r=!1;t.forEach(t=>{r||(r=i(e,s,t))})}else i(e)}else if(a){const r=t.expand(s,n,R);let a=!1;Object.keys(r).forEach(t=>{const n=r[t];!a&&(t===o||o instanceof RegExp&&o.test(t))&&(a=i(e,t,n,!0))})}})})};E.primaryOptionArray=!0;const P=e.createPlugin(v,E);export default P;export{O as messages,v as ruleName};
//# sourceMappingURL=index.modern.js.map
